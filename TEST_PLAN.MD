# TEST_PLAN.md

## ğŸ“‹ Overview

This test plan outlines the test coverage for the Library Management API. The tests are written in `pytest` and focus on verifying the functional behavior and error handling of all supported endpoints. The main goal is to ensure API reliability, correctness, and resilience.

---

## ğŸ”Œ Tested Endpoints

| Endpoint           | Method | Description                           |
|--------------------|--------|---------------------------------------|
| `/books`           | GET    | Retrieve a list of all books          |
| `/books`           | POST   | Add a new book                        |
| `/books/{book_id}` | PUT    | Update details of a specific book     |
| `/books/{book_id}` | DELETE | Delete a book by ID                   |
| `/users`           | GET    | Retrieve a list of all users          |
| `/users`           | POST   | Add a new user                        |
| `/loan`            | POST   | Loan a book to a user                 |
| `/return`          | POST   | Return a previously loaned book       |

---

## âœ… Positive Test Scenarios

- **POST /books** â€” Add a new book with a unique ID â†’ `201 Created`
- **GET /books** â€” Retrieve the list of all books â†’ `200 OK`
- **PUT /books/{book_id}** â€” Update an existing book â†’ `200 OK`
- **DELETE /books/{book_id}** â€” Delete an existing book â†’ `200 OK`
- **GET /users** â€” Get all registered users â†’ `200 OK`
- **POST /users** â€” Add a new user â†’ `201 Created`
- **POST /loan** â€” Loan a valid book to a valid user â†’ `200 OK`
- **POST /return** â€” Return a valid loaned book â†’ `200 OK`

---

## âŒ Negative Test Scenarios

- **POST /books** â€” Add a duplicate book (same ID) â†’ `400 Bad Request`
- **PUT /books/{book_id}** â€” Update non-existent book â†’ `404 Not Found`
- **DELETE /books/{book_id}** â€” Delete non-existent book â†’ `404 Not Found`
- **POST /loan** â€” Loan a non-existent book â†’ `404 Not Found`
- **POST /loan** â€” Loan a book to a non-existent user â†’ `404 Not Found`
- **POST /loan** â€” Loan a book that is already borrowed â†’ `400 Bad Request`
- **POST /return** â€” Return a book not loaned to the user â†’ `400 Bad Request`
- **POST /return** â€” Return a non-existent book or from non-existent user â†’ `404 Not Found`

---

## ğŸ›¡ï¸ Importance of Tests

- **Positive tests** ensure core functionality works as intended.
- **Negative tests** validate that the API responds correctly to invalid operations and inputs.
- **Response code checks (200/201/400/404)** ensure correct client feedback and prevent silent failures.

This suite increases development confidence and reduces risk when deploying backend changes or refactoring code.

---

## ğŸ“‚ File Location

This file should be placed at the root of the project alongside `README.md`:


